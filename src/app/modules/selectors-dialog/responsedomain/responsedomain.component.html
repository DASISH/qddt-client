<div class="hoverable row">
  <div class="col s7">
    <div class="row input-field">
      <ul *ngIf="canEdit" class="dropleft">
        <li *ngIf="!responseDomain">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 green" (click)="onItemEdit($event)">
            <i class="material-icons" title="Add element">add</i>
          </a>
        </li>
        <li *ngIf="responseDomain">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 blue" (click)="onItemGetLatest()">
            <i class="material-icons" title="Get latest">autorenew</i>
          </a>
        </li>
        <li *ngIf="canDelete && responseDomain">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 red" (click)="onItemRemove()">
            <i class="material-icons" title="Remove">remove</i>
          </a>
        </li>
      </ul>
      <input name="name" type="text" placeholder="select responseDomain" readonly="true"
        [ngModel]="responseDomain?.name">
      <label>Response Domain (V <qddt-version [element]="responseDomain"></qddt-version>) </label>
    </div>
  </div>
  <div class="col s5">
    <div class="row input-field">
      <ul *ngIf="canEdit" class="dropleft">
        <li *ngIf="responseDomain && !responseDomain?.missing">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 green" (click)="onMissingEdit($event)">
            <i class="material-icons" title="Add element">add</i>
          </a>
        </li>
        <li *ngIf="responseDomain && responseDomain?.missing">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 blue" (click)="onMissingEdit($event)">
            <i class="material-icons" title="Edit">edit</i>
          </a>
        </li>
        <li *ngIf="canDelete && responseDomain?.missing">
          <a class="btn-flat btn-floating btn-small waves-effect waves-light lighten-2 red" (click)="onMissingRemove()">
            <i class="material-icons" title="Remove">remove</i>
          </a>
        </li>
      </ul>
      <input name="missing" type="text" placeholder="select missing" readonly="true"
        [ngModel]="responseDomain?.missing?.label">
      <label>Missing</label>
      <div>
      </div>
    </div>
  </div>
  <!-- Modal Structure -->
</div>
<div id="MODAL-{{modalId}}" class="modal modal-fixed-footer">
  <div class="modal-content white black-text">
    <div class="col s12" *ngIf="showResponseDomain">
      <div class="response-domain-title"><span>Select Domain and Search</span></div>
      <qddt-element-revision-select class="col s12" [source]="RESPONSEDOMAIN"
      (revisionSelectedEvent)="onRevisionSelect($event)" (dismissEvent)="onDismiss($event)" >
      </qddt-element-revision-select>
    </div>
    <div class="col s12" *ngIf="!showResponseDomain">
      <qddt-element-select *ngIf="!responseDomain.missing" [source]="MISSING_GROUP"
        (elementSelectedEvent)="onMissingSelect($event)">
      </qddt-element-select>
      <form #missingForm="ngForm" *ngIf="responseDomain.missing">
        <table>
          <thead><tr><td>Code</td><td>Category</td></tr></thead>
          <tbody>
            <tr *ngFor="let category of responseDomain.missing.children;" >
              <td><input name="value" id="category.id" type="text"
                [value]="category.code.codeValue"
                [(ngModel)]="category.code.codeValue" required></td>
              <td>{{ category?.label }}</td>
            </tr>
          </tbody>
        </table>
        <div class="right-align">
          <a class="btn btn-flat waves-effect waves-light green white-text" (click)="onOkMissing($event)">
            ok
          </a>
          <a class="btn btn-flat btn-medium waves-effect waves-light red white-text" (click)="onDismiss($event)">
            cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
