<div class="col s11" *ngIf="element">
  <form (ngSubmit)="onUpdateInstrument()" #instrumentform="ngForm">
    <div class="row">
      <qddt-input class="col s10" required name="name" label="Name" [(ngModel)]="element.name" data-length="100">
      </qddt-input>
      <qddt-select class="col s2" required name="xmlLang" label="xmlLang" [(ngModel)]="element.xmlLang"
        [lockups]="LANGUAGES">
      </qddt-select>
    </div>

    <qddt-input required name="label" label="Label" [(ngModel)]="element.label" data-length="255">
    </qddt-input>
    <qddt-textarea required name="description" label="Description" [(ngModel)]="element.description" data-length="1000">
    </qddt-textarea>
    <div class="row">
      <qddt-select class="col s5" required name="instrumentKind" label="Instrument type"
        [(ngModel)]="element.instrumentKind" [lockups]="instrumentKinds">
      </qddt-select>
      <div class="col s7 grey-text">{{getDescription(element.instrumentKind)}}</div>
    </div>

    <qddt-instrument-sequence-tree [subSequence]="element.sequence" class="row" (actionEvent)="onDoAction($event)"
      (modifiedEvent)="onDoAction('tes')">
    </qddt-instrument-sequence-tree>

    <qddt-rational [formName]="'RationalComp'" *ngIf="!readonly && element.id" [element]="element"
      [config]="{hidden: [3,4]}">
    </qddt-rational>

    <qddt-element-footer *ngIf="element.id" [element]="element"></qddt-element-footer>

    <div class="row right-align">
      <button *ngIf="!readonly" [disabled]="!instrumentform.form.valid" type="submit" class="btn btn-default">Submit
      </button>
    </div>
  </form>

</div>
<div class="toc-wrapper pinned " style="height: 100%; right:0; overflow-y: auto; width: 160px;">
  <h6>Parameters</h6>
  <ol>
    <li *ngFor="let parameter of element.parameters.values()">
      <div class="chip">{{parameter.name}} </div>
    </li>
  </ol>
</div>


<!-- Modal Structure -->
<div id="MODAL-{{formId}}" class="modal modal-fixed-footer">
  <div class="modal-content">
    <h4>Select version</h4>
    <div class="card-action">
      <div class="row">
        <div class="col left" *ngFor="let option of selectOptions">
          <label>
            <input name="DOMAIN-TYPE-GROUP" type="radio" [checked]="selectId === option.id"
              (click)="onSelectOption(option.value)" />
            <span>{{ option.label }}</span>
          </label>
        </div>
      </div>
    </div>
    <qddt-element-revision-select [source]="SOURCE" (revisionSelectedEvent)="onRevisionSelect($event)"
      (dismissEvent)="onDismiss()">
    </qddt-element-revision-select>
  </div>
  <div class="modal-footer">
    <a class="btn red waves-effect waves-red" (click)="onDismiss()">Dismiss</a>
  </div>
</div>
