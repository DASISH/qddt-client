<div *ngIf="user" >
  <form (ngSubmit)="onSave()" #hf="ngForm">
    <div class="row">
      <div class="col m6">
        <div class="row input-field">
          <input id="name2" name="name" type="text" class="validate" required [(ngModel)]="user.name"
                data-length="25" materialize="characterCounter">
          <label for="name2">Name</label>
        </div>

        <div class="input-field row ">
          <input id="email" name="email" type="email" class="validate" required [(ngModel)]="user.email"
                data-length="128" materialize="characterCounter">
          <label for="email">Email </label>
        </div>
        <div class="row input-field">
          <select materialize="material_select" name="agency" id="agency" class="validate" required
            [materializeSelectOptions]="agencies" [(ngModel)]="selectedAgencyId" (ngModelChange)="onSelectChange($event)">
              <option *ngFor="let agency of agencies" [value]="agency.id" >{{agency.name}}</option>
          </select>
          <label for="agency">Agency</label>
        </div>
      </div>
      <div class="col m3 offset-m1">
        <label>Authority </label>
        <div  *ngIf="user?.authority?.id"  class="card-action">
          <div  *ngFor="let authority of authorities">
              <input name="authoritiesroup" type="radio" id="authorities{{authority.id}}" 
                (click)="onSelectRadio(authority.id)" [checked]="user.authority.id === authority.id"/> 
              <label for="authorities{{authority.id}}">{{ authority?.name }}</label>
          </div>
        </div>
        <P></P>
        <div class="input-field ">
            <input id="enabled" name="enabled" type="checkbox" class="validate" [(ngModel)]="user.enabled">
            <label for="enabled">Enabled</label>
        </div>
      </div>
    </div>
    <div class="row right-align">
        <button  *ngIf="!readonly" type="submit" class="btn btn-default" [disabled]="!hf.form.valid" >Submit</button>
    </div>
  </form>
</div>
